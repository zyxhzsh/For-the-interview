2020年11月7日

[力扣](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/)

**描述**

写一个函数，求两个整数之和，要求在函数体内不得使用 “+”、“-”、“*”、“/” 四则运算符号。

a, b 均可能是负数或 0

结果不会溢出 32 位整数

#### 思路一

首先分析人们如何做十进制加法，比如如何得到5+17=22这个结果的。
```java
实际上可以分成三步进行：
（1）只做各位相加不进位，此时相加的结果为12(1+0=1,(5+7)%10=2)
（2）各位只算进位，5+7中有进位，进位的值为10。
（3）把前面两个结果加起来：12+10结果是22，刚好5+17=22

循环这三步，直至进位为0，此时非进位和为最后的结果。
```

无进位和 与 异或运算 规律相同，进位 和 与运算 规律相同（并需左移一位）。

（和s）==（非进位和p）+（进位q）。即可将s=a+b转化为s=p+q。

循环求p和q，直至进位q=0；此时s=p，返回p即可。

时间复杂度：O(1)。 最差情况下（例如a=0x7fffffff, b=1时），需循环 32 次。

空间复杂度 O(1)。

```java
class Solution {
    public int add(int a, int b) {
        while(b!=0){//当进位为0时跳出
            int c=(a&b)<<1;//进位
            a=a^b;//非进位和
            b=c;//更新b
        }
        return a;
    }
}
```
